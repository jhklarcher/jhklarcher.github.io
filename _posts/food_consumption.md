---
title: 'Future Blog Post2'
date: 2020-01-01
permalink: /posts/2020/01/blog-post-1.html
tags:
  - cool posts
  - category1
  - category2

categories:
  - cat 1
---

``` r
library(tidyverse)
library(cowplot)
library(ggExtra)
library(plotly)

theme_set(theme_light())
```

``` r
food_consumption <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-18/food_consumption.csv')
```

``` r
top_consumption <- food_consumption %>%
  group_by(country) %>%
  summarize(consumption=sum(consumption), co2_emmission=sum(co2_emmission)) %>%
  arrange(consumption) %>%
  mutate(country=fct_reorder(country, consumption)) %>%
  tail(10)

p1 <- food_consumption %>%
  filter(country %in% top_consumption$country) %>%
  ggplot(aes(x=reorder(country, match(country, top_consumption$country)), y=consumption, fill=food_category)) +
  geom_col(position="dodge") +
  guides(fill=guide_legend(title="Food Category")) +
  coord_flip() +
  labs(x = '',
       y = 'Consumption (kg/person/year)')

ggplotly(p1)
```

<!--html_preserve-->

<script type="application/json" data-for="htmlwidget-cfcc819e3d12b70af329">{"x":{"data":[{"orientation":"h","width":[0.081818181818182,0.0818181818181818,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[22.5,29.88,24.58,28.46,19.22,22.35,21.26,17.67,18.6,4.49],"y":[5.59090909090909,0.590909090909091,7.59090909090909,1.59090909090909,9.59090909090909,4.59090909090909,3.59090909090909,6.59090909090909,2.59090909090909,8.59090909090909],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:  22.50<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:  29.88<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:  24.58<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:  28.46<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:  19.22<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:  22.35<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:  21.26<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:  17.67<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:  18.60<br />food_category: Beef","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:   4.49<br />food_category: Beef"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Beef","legendgroup":"Beef","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.0818181818181818,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[12.45,14.64,13.37,15.35,9.55,8.96,10.53,14.03,13.34,13.11],"y":[5.67272727272727,0.672727272727273,7.67272727272727,1.67272727272727,9.67272727272727,4.67272727272727,3.67272727272727,6.67272727272727,2.67272727272727,8.67272727272727],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:  12.45<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:  14.64<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:  13.37<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:  15.35<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:   9.55<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:   8.96<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:  10.53<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:  14.03<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:  13.34<br />food_category: Eggs","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:  13.11<br />food_category: Eggs"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(219,142,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Eggs","legendgroup":"Eggs","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.0818181818181818,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[3.85,23.09,23.86,16.49,33.8,17.39,13.48,18.64,15.6,42.39],"y":[5.75454545454545,0.754545454545454,7.75454545454545,1.75454545454545,9.75454545454545,4.75454545454545,3.75454545454545,6.75454545454545,2.75454545454545,8.75454545454545],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:   3.85<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:  23.09<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:  23.86<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:  16.49<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:  33.80<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:  17.39<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:  13.48<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:  18.64<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:  15.60<br />food_category: Fish","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:  42.39<br />food_category: Fish"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(174,162,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Fish","legendgroup":"Fish","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.0818181818181818,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[15.32,1.67,1.41,0.92,0.53,4.1,1.42,0.94,0.92,0.24],"y":[5.83636363636364,0.836363636363636,7.83636363636364,1.83636363636364,9.83636363636364,4.83636363636364,3.83636363636364,6.83636363636364,2.83636363636364,8.83636363636364],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:  15.32<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:   1.67<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:   1.41<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:   0.92<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:   0.53<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:   4.10<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:   1.42<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:   0.94<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:   0.92<br />food_category: Lamb & Goat","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:   0.24<br />food_category: Lamb & Goat"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(100,178,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Lamb & Goat","legendgroup":"Lamb & Goat","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.0818181818181818,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[303.72,255.3,341.23,277.3,430.76,291.86,318.69,341.47,246.88,295.46],"y":[5.91818181818182,0.918181818181818,7.91818181818182,1.91818181818182,9.91818181818182,4.91818181818182,3.91818181818182,6.91818181818182,2.91818181818182,8.91818181818182],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption: 303.72<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption: 255.30<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption: 341.23<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption: 277.30<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Finland<br />consumption: 430.76<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption: 291.86<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption: 318.69<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption: 341.47<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Italy<br />consumption: 246.88<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption: 295.46<br />food_category: Milk - inc. cheese"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,189,92,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Milk - inc. cheese","legendgroup":"Milk - inc. cheese","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.0818181818181819,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[4.36,0.93,6.23,5.94,3.43,4.1,9.27,7.94,7.63,2.13],"y":[6,1,8,2,10,5,4,7,3,9],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:   4.36<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:   0.93<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:   6.23<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:   5.94<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:   3.43<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:   4.10<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:   9.27<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:   7.94<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:   7.63<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:   2.13<br />food_category: Nuts inc. Peanut Butter"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,193,167,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Nuts inc. Peanut Butter","legendgroup":"Nuts inc. Peanut Butter","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[10.88,43.58,37,24.87,36.14,32.4,31.49,36.36,40.28,45.67],"y":[6.08181818181818,1.08181818181818,8.08181818181818,2.08181818181818,10.0818181818182,5.08181818181818,4.08181818181818,7.08181818181818,3.08181818181818,9.08181818181818],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:  10.88<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:  43.58<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:  37.00<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:  24.87<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:  36.14<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:  32.40<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:  31.49<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:  36.36<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:  40.28<br />food_category: Pork","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:  45.67<br />food_category: Pork"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,186,222,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pork","legendgroup":"Pork","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[13.23,21.37,16.64,26.75,19.87,26.26,16.38,23.9,18.61,26.84],"y":[6.16363636363636,1.16363636363636,8.16363636363636,2.16363636363636,10.1636363636364,5.16363636363636,4.16363636363636,7.16363636363636,3.16363636363636,9.16363636363636],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:  13.23<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:  21.37<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:  16.64<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:  26.75<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:  19.87<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:  26.26<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:  16.38<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:  23.90<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:  18.61<br />food_category: Poultry","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:  26.84<br />food_category: Poultry"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,166,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Poultry","legendgroup":"Poultry","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[7.78,4.2,5.96,4.96,4.42,3,2.43,2.93,5.74,3.07],"y":[6.24545454545455,1.24545454545455,8.24545454545455,2.24545454545455,10.2454545454545,5.24545454545455,4.24545454545455,7.24545454545455,3.24545454545455,9.24545454545455],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:   7.78<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:   4.20<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:   5.96<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:   4.96<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:   4.42<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:   3.00<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:   2.43<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:   2.93<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:   5.74<br />food_category: Rice","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:   3.07<br />food_category: Rice"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(179,133,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Rice","legendgroup":"Rice","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[0,0.04,0.13,0.03,0.08,0.25,0.44,0.12,0.01,0.02],"y":[6.32727272727273,1.32727272727273,8.32727272727273,2.32727272727273,10.3272727272727,5.32727272727273,4.32727272727273,7.32727272727273,3.32727272727273,9.32727272727273],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption:   0.00<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption:   0.04<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:   0.13<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:   0.03<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:   0.08<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption:   0.25<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:   0.44<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:   0.12<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Italy<br />consumption:   0.01<br />food_category: Soybeans","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption:   0.02<br />food_category: Soybeans"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(239,103,235,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Soybeans","legendgroup":"Soybeans","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[138.64,103.2,79.59,98,81.99,107.98,89.51,70.17,146.37,121.59],"y":[6.40909090909091,1.40909090909091,8.40909090909091,2.40909090909091,10.4090909090909,5.40909090909091,4.40909090909091,7.40909090909091,3.40909090909091,9.40909090909091],"text":["reorder(country, match(country, top_consumption$country)): Albania<br />consumption: 138.64<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Luxembourg<br />consumption: 103.20<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Sweden<br />consumption:  79.59<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Denmark<br />consumption:  98.00<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Finland<br />consumption:  81.99<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Ireland<br />consumption: 107.98<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Switzerland<br />consumption:  89.51<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Netherlands<br />consumption:  70.17<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Italy<br />consumption: 146.37<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_consumption$country)): Lithuania<br />consumption: 121.59<br />food_category: Wheat and Wheat Products"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(255,99,182,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Wheat and Wheat Products","legendgroup":"Wheat and Wheat Products","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":75.2511415525114},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-21.538,452.298],"tickmode":"array","ticktext":["0","100","200","300","400"],"tickvals":[0,100,200,300,400],"categoryorder":"array","categoryarray":["0","100","200","300","400"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"Consumption (kg/person/year)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["Luxembourg","Denmark","Italy","Switzerland","Ireland","Albania","Netherlands","Sweden","Lithuania","Finland"],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["Luxembourg","Denmark","Italy","Switzerland","Ireland","Albania","Netherlands","Sweden","Lithuania","Finland"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.93503937007874},"annotations":[{"text":"Food Category","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"226047ae7599":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"226047ae7599","visdat":{"226047ae7599":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<!--/html_preserve-->
``` r
top_emmission <- food_consumption %>%
  group_by(country) %>%
  summarize(co2_emmission=sum(co2_emmission)) %>%
  arrange(co2_emmission) %>%
  mutate(country=fct_reorder(country, co2_emmission)) %>%
  tail(10)

p2 <- food_consumption %>%
  filter(country %in% top_emmission$country) %>%
  ggplot(aes(x=reorder(country, match(country, top_emmission$country)), y=co2_emmission, fill=food_category)) +
  geom_col(position="dodge") +
  coord_flip() +
  theme() +
  labs(x = "",
       y = 'Co2 Emission (Kg CO2/person/year)') +
  guides(fill=guide_legend(title="Food Category"))

ggplotly(p2)
```

<!--html_preserve-->

<script type="application/json" data-for="htmlwidget-6bc1e51188dced2af1a7">{"x":{"data":[{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.0818181818181818],"base":[0,0,0,0,0,0,0,0,0,0],"x":[1712,1044.85,694.3,412.26,693.99,1118.29,897.96,922.03,1211.17,721.46],"y":[9.59090909090909,8.59090909090909,7.59090909090909,5.59090909090909,6.59090909090909,4.59090909090909,3.59090909090909,1.59090909090909,2.59090909090909,0.590909090909091],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission: 1712.00<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission: 1044.85<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:  694.30<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:  412.26<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:  693.99<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission: 1118.29<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:  897.96<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:  922.03<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission: 1211.17<br />food_category: Beef","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:  721.46<br />food_category: Beef"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Beef","legendgroup":"Beef","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.0818181818181818],"base":[0,0,0,0,0,0,0,0,0,0],"x":[10.46,7.82,11.44,7.57,9.1,13.39,12.07,13.45,8.25,7.62],"y":[9.67272727272727,8.67272727272727,7.67272727272727,5.67272727272727,6.67272727272727,4.67272727272727,3.67272727272727,1.67272727272727,2.67272727272727,0.672727272727273],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:   10.46<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:    7.82<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:   11.44<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:    7.57<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:    9.10<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:   13.39<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:   12.07<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:   13.45<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:    8.25<br />food_category: Eggs","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:    7.62<br />food_category: Eggs"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(219,142,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Eggs","legendgroup":"Eggs","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.0818181818181818],"base":[0,0,0,0,0,0,0,0,0,0],"x":[6.96,28.25,6.15,118.81,32.51,19.72,10.43,36.87,15.98,8.32],"y":[9.75454545454546,8.75454545454546,7.75454545454545,5.75454545454545,6.75454545454545,4.75454545454545,3.75454545454545,1.75454545454545,2.75454545454545,0.754545454545455],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:    6.96<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:   28.25<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:    6.15<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:  118.81<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:   32.51<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:   19.72<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:   10.43<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:   36.87<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:   15.98<br />food_category: Fish","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:    8.32<br />food_category: Fish"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(174,162,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Fish","legendgroup":"Fish","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.0818181818181818],"base":[0,0,0,0,0,0,0,0,0,0],"x":[54.63,345.65,536.5,739.62,662.23,15.06,288.21,58.48,21.71,334.79],"y":[9.83636363636364,8.83636363636364,7.83636363636364,5.83636363636364,6.83636363636364,4.83636363636364,3.83636363636364,1.83636363636364,2.83636363636364,0.836363636363637],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:   54.63<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:  345.65<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:  536.50<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:  739.62<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:  662.23<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:   15.06<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:  288.21<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:   58.48<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:   21.71<br />food_category: Lamb & Goat","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:  334.79<br />food_category: Lamb & Goat"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(100,178,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Lamb & Goat","legendgroup":"Lamb & Goat","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.0818181818181818],"base":[0,0,0,0,0,0,0,0,0,0],"x":[277.87,334.01,432.62,321.66,195.5,362.78,299.89,363.65,212.63,410.4],"y":[9.91818181818182,8.91818181818182,7.91818181818182,5.91818181818182,6.91818181818182,4.91818181818182,3.91818181818182,1.91818181818182,2.91818181818182,0.918181818181818],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:  277.87<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:  334.01<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:  432.62<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:  321.66<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:  195.50<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:  362.78<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:  299.89<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:  363.65<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:  212.63<br />food_category: Milk - inc. cheese","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:  410.40<br />food_category: Milk - inc. cheese"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,189,92,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Milk - inc. cheese","legendgroup":"Milk - inc. cheese","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.0818181818181819],"base":[0,0,0,0,0,0,0,0,0,0],"x":[0.87,15.45,7.72,6.87,14.55,13.91,1.68,1.65,1.19,9.1],"y":[10,9,8,6,7,5,4,2,3,1],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:    0.87<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:   15.45<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:    7.72<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:    6.87<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:   14.55<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:   13.91<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:    1.68<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:    1.65<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:    1.19<br />food_category: Nuts inc. Peanut Butter","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:    9.10<br />food_category: Nuts inc. Peanut Butter"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,193,167,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Nuts inc. Peanut Butter","legendgroup":"Nuts inc. Peanut Butter","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[37.2,85.44,38.51,76.77,78.9,97.83,59.61,154.25,44.6,36.67],"y":[10.0818181818182,9.08181818181818,8.08181818181818,6.08181818181818,7.08181818181818,5.08181818181818,4.08181818181818,2.08181818181818,3.08181818181818,1.08181818181818],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:   37.20<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:   85.44<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:   38.51<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:   76.77<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:   78.90<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:   97.83<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:   59.61<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:  154.25<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:   44.60<br />food_category: Pork","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:   36.67<br />food_category: Pork"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,186,222,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pork","legendgroup":"Pork","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[41.53,49.54,14.21,28.86,37.58,53.72,29.49,22.96,48.34,19.74],"y":[10.1636363636364,9.16363636363636,8.16363636363636,6.16363636363636,7.16363636363636,5.16363636363636,4.16363636363636,2.16363636363636,3.16363636363636,1.16363636363636],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:   41.53<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:   49.54<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:   14.21<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:   28.86<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:   37.58<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:   53.72<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:   29.49<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:   22.96<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:   48.34<br />food_category: Poultry","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:   19.74<br />food_category: Poultry"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,166,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Poultry","legendgroup":"Poultry","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[11.22,14.12,9.96,4.98,11.72,8.8,14.72,5.37,41.12,9.37],"y":[10.2454545454545,9.24545454545454,8.24545454545454,6.24545454545455,7.24545454545455,5.24545454545455,4.24545454545455,2.24545454545455,3.24545454545455,1.24545454545455],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:   11.22<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:   14.12<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:    9.96<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:    4.98<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:   11.72<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:    8.80<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:   14.72<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:    5.37<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:   41.12<br />food_category: Rice","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:    9.37<br />food_category: Rice"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(179,133,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Rice","legendgroup":"Rice","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[0,0.09,0,0.05,0.2,0.02,0,0.02,1.63,0.01],"y":[10.3272727272727,9.32727272727273,8.32727272727273,6.32727272727273,7.32727272727273,5.32727272727273,4.32727272727273,2.32727272727273,3.32727272727273,1.32727272727273],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:    0.00<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:    0.09<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:    0.00<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:    0.05<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:    0.20<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:    0.02<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:    0.00<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:    0.02<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:    1.63<br />food_category: Soybeans","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:    0.01<br />food_category: Soybeans"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(239,103,235,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Soybeans","legendgroup":"Soybeans","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182,0.081818181818182],"base":[0,0,0,0,0,0,0,0,0,0],"x":[19.66,13.44,26.44,13.91,14.67,15.34,20.85,19.68,10.11,17.6],"y":[10.4090909090909,9.40909090909091,8.40909090909091,6.40909090909091,7.40909090909091,5.40909090909091,4.40909090909091,2.40909090909091,3.40909090909091,1.40909090909091],"text":["reorder(country, match(country, top_emmission$country)): Argentina<br />co2_emmission:   19.66<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): Australia<br />co2_emmission:   13.44<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): Albania<br />co2_emmission:   26.44<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): Iceland<br />co2_emmission:   13.91<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): New Zealand<br />co2_emmission:   14.67<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): USA<br />co2_emmission:   15.34<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): Uruguay<br />co2_emmission:   20.85<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): Luxembourg<br />co2_emmission:   19.68<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): Brazil<br />co2_emmission:   10.11<br />food_category: Wheat and Wheat Products","reorder(country, match(country, top_emmission$country)): Kazakhstan<br />co2_emmission:   17.60<br />food_category: Wheat and Wheat Products"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(255,99,182,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Wheat and Wheat Products","legendgroup":"Wheat and Wheat Products","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":75.2511415525114},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-85.6,1797.6],"tickmode":"array","ticktext":["0","500","1000","1500"],"tickvals":[0,500,1000,1500],"categoryorder":"array","categoryarray":["0","500","1000","1500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"Co2 Emission (Kg CO2/person/year)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["Kazakhstan","Luxembourg","Brazil","Uruguay","USA","Iceland","New Zealand","Albania","Australia","Argentina"],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["Kazakhstan","Luxembourg","Brazil","Uruguay","USA","Iceland","New Zealand","Albania","Australia","Argentina"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.93503937007874},"annotations":[{"text":"Food Category","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"22609d17a4a":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"22609d17a4a","visdat":{"22609d17a4a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<!--/html_preserve-->
``` r
p3 <- food_consumption %>%
  group_by(country) %>%
  summarise(consumption=sum(consumption), co2_emmission=sum(co2_emmission)) %>%
  ggplot(aes(consumption, co2_emmission)) +
  geom_point(aes(col=country, size = co2_emmission), alpha = .7) + 
  geom_text(aes(label=country), check_overlap = TRUE, hjust=1.15) +
  theme(legend.position="none") +
  labs(x = 'Consumption (kg/person/year)',
       y = 'CO2 Emission (Kg CO2/person/year)')

p3
```

![](food_consumption_files/figure-markdown_github/unnamed-chunk-5-1.png)
